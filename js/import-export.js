function exportData(){const t=getStoredTrackingData();for(const[e,r]of Object.entries(t))!0!==r.ranked||r["ranked-date"]||(console.log("no date"),t[e]["ranked-date"]=(new Date).toISOString().split(".")[0]+"Z");const e={tracking:t,filters:getCurrentFilters()},r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=`unitTracking_${getUserName()}_${(new Date).toISOString().replace(/[:T]/g,"-").split(".")[0]}.json`,a.click()}function importData(t){const e=new FileReader;e.onload=function(t){try{const e=JSON.parse(t.target.result);if(!e.tracking)throw new Error("Missing 'tracking'");localStorage.setItem("unitTracking",JSON.stringify(e.tracking)),e.filters&&setFilters(e.filters),drawTable()}catch(t){console.error(t),alert("Invalid file format.")}},e.readAsText(t)}